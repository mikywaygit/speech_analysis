/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={d:(r,n)=>{for(var e in n)t.o(n,e)&&!t.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:n[e]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{add:()=>Z,adjoint:()=>v,clone:()=>u,copy:()=>c,create:()=>i,determinant:()=>M,equals:()=>tt,exactEquals:()=>$,frob:()=>X,fromQuat:()=>q,fromQuat2:()=>O,fromRotation:()=>S,fromRotationTranslation:()=>T,fromRotationTranslationScale:()=>j,fromRotationTranslationScaleOrigin:()=>D,fromScaling:()=>L,fromTranslation:()=>E,fromValues:()=>s,fromXRotation:()=>A,fromYRotation:()=>P,fromZRotation:()=>R,frustum:()=>U,getRotation:()=>F,getScaling:()=>I,getTranslation:()=>_,identity:()=>f,invert:()=>d,lookAt:()=>V,mul:()=>rt,multiply:()=>w,multiplyScalar:()=>K,multiplyScalarAndAdd:()=>J,ortho:()=>k,orthoNO:()=>C,orthoZO:()=>H,perspective:()=>B,perspectiveFromFieldOfView:()=>G,perspectiveNO:()=>z,perspectiveZO:()=>N,rotate:()=>m,rotateX:()=>b,rotateY:()=>y,rotateZ:()=>x,scale:()=>g,set:()=>h,str:()=>W,sub:()=>nt,subtract:()=>Q,targetTo:()=>Y,translate:()=>p,transpose:()=>l});var n={};t.r(n),t.d(n,{add:()=>Ut,calculateW:()=>Mt,clone:()=>Ft,conjugate:()=>xt,copy:()=>Dt,create:()=>it,dot:()=>Nt,equals:()=>Xt,exactEquals:()=>Wt,exp:()=>wt,fromEuler:()=>Lt,fromMat3:()=>Et,fromValues:()=>jt,getAngle:()=>ht,getAxisAngle:()=>st,identity:()=>ut,invert:()=>yt,len:()=>kt,length:()=>Ct,lerp:()=>Gt,ln:()=>pt,mul:()=>zt,multiply:()=>ft,normalize:()=>Yt,pow:()=>gt,random:()=>bt,rotateX:()=>lt,rotateY:()=>dt,rotateZ:()=>vt,rotationTo:()=>Zt,scale:()=>Bt,set:()=>qt,setAxes:()=>Kt,setAxisAngle:()=>ct,slerp:()=>mt,sqlerp:()=>Qt,sqrLen:()=>Vt,squaredLength:()=>Ht,str:()=>St});var e=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function i(){var t=new o(16);return o!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function u(t){var r=new o(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function c(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function s(t,r,n,e,a,i,u,c,s,h,f,l,d,v,M,w){var p=new o(16);return p[0]=t,p[1]=r,p[2]=n,p[3]=e,p[4]=a,p[5]=i,p[6]=u,p[7]=c,p[8]=s,p[9]=h,p[10]=f,p[11]=l,p[12]=d,p[13]=v,p[14]=M,p[15]=w,p}function h(t,r,n,e,o,a,i,u,c,s,h,f,l,d,v,M,w){return t[0]=r,t[1]=n,t[2]=e,t[3]=o,t[4]=a,t[5]=i,t[6]=u,t[7]=c,t[8]=s,t[9]=h,t[10]=f,t[11]=l,t[12]=d,t[13]=v,t[14]=M,t[15]=w,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,r){if(t===r){var n=r[1],e=r[2],o=r[3],a=r[6],i=r[7],u=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=a,t[11]=r[14],t[12]=o,t[13]=i,t[14]=u}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function d(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=r[4],u=r[5],c=r[6],s=r[7],h=r[8],f=r[9],l=r[10],d=r[11],v=r[12],M=r[13],w=r[14],p=r[15],g=n*u-e*i,m=n*c-o*i,b=n*s-a*i,y=e*c-o*u,x=e*s-a*u,E=o*s-a*c,L=h*M-f*v,S=h*w-l*v,A=h*p-d*v,P=f*w-l*M,R=f*p-d*M,T=l*p-d*w,O=g*T-m*R+b*P+y*A-x*S+E*L;return O?(O=1/O,t[0]=(u*T-c*R+s*P)*O,t[1]=(o*R-e*T-a*P)*O,t[2]=(M*E-w*x+p*y)*O,t[3]=(l*x-f*E-d*y)*O,t[4]=(c*A-i*T-s*S)*O,t[5]=(n*T-o*A+a*S)*O,t[6]=(w*b-v*E-p*m)*O,t[7]=(h*E-l*b+d*m)*O,t[8]=(i*R-u*A+s*L)*O,t[9]=(e*A-n*R-a*L)*O,t[10]=(v*x-M*b+p*g)*O,t[11]=(f*b-h*x-d*g)*O,t[12]=(u*S-i*P-c*L)*O,t[13]=(n*P-e*S+o*L)*O,t[14]=(M*m-v*y-w*g)*O,t[15]=(h*y-f*m+l*g)*O,t):null}function v(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=r[4],u=r[5],c=r[6],s=r[7],h=r[8],f=r[9],l=r[10],d=r[11],v=r[12],M=r[13],w=r[14],p=r[15];return t[0]=u*(l*p-d*w)-f*(c*p-s*w)+M*(c*d-s*l),t[1]=-(e*(l*p-d*w)-f*(o*p-a*w)+M*(o*d-a*l)),t[2]=e*(c*p-s*w)-u*(o*p-a*w)+M*(o*s-a*c),t[3]=-(e*(c*d-s*l)-u*(o*d-a*l)+f*(o*s-a*c)),t[4]=-(i*(l*p-d*w)-h*(c*p-s*w)+v*(c*d-s*l)),t[5]=n*(l*p-d*w)-h*(o*p-a*w)+v*(o*d-a*l),t[6]=-(n*(c*p-s*w)-i*(o*p-a*w)+v*(o*s-a*c)),t[7]=n*(c*d-s*l)-i*(o*d-a*l)+h*(o*s-a*c),t[8]=i*(f*p-d*M)-h*(u*p-s*M)+v*(u*d-s*f),t[9]=-(n*(f*p-d*M)-h*(e*p-a*M)+v*(e*d-a*f)),t[10]=n*(u*p-s*M)-i*(e*p-a*M)+v*(e*s-a*u),t[11]=-(n*(u*d-s*f)-i*(e*d-a*f)+h*(e*s-a*u)),t[12]=-(i*(f*w-l*M)-h*(u*w-c*M)+v*(u*l-c*f)),t[13]=n*(f*w-l*M)-h*(e*w-o*M)+v*(e*l-o*f),t[14]=-(n*(u*w-c*M)-i*(e*w-o*M)+v*(e*c-o*u)),t[15]=n*(u*l-c*f)-i*(e*l-o*f)+h*(e*c-o*u),t}function M(t){var r=t[0],n=t[1],e=t[2],o=t[3],a=t[4],i=t[5],u=t[6],c=t[7],s=t[8],h=t[9],f=t[10],l=t[11],d=t[12],v=t[13],M=t[14],w=t[15];return(r*i-n*a)*(f*w-l*M)-(r*u-e*a)*(h*w-l*v)+(r*c-o*a)*(h*M-f*v)+(n*u-e*i)*(s*w-l*d)-(n*c-o*i)*(s*M-f*d)+(e*c-o*u)*(s*v-h*d)}function w(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],c=r[5],s=r[6],h=r[7],f=r[8],l=r[9],d=r[10],v=r[11],M=r[12],w=r[13],p=r[14],g=r[15],m=n[0],b=n[1],y=n[2],x=n[3];return t[0]=m*e+b*u+y*f+x*M,t[1]=m*o+b*c+y*l+x*w,t[2]=m*a+b*s+y*d+x*p,t[3]=m*i+b*h+y*v+x*g,m=n[4],b=n[5],y=n[6],x=n[7],t[4]=m*e+b*u+y*f+x*M,t[5]=m*o+b*c+y*l+x*w,t[6]=m*a+b*s+y*d+x*p,t[7]=m*i+b*h+y*v+x*g,m=n[8],b=n[9],y=n[10],x=n[11],t[8]=m*e+b*u+y*f+x*M,t[9]=m*o+b*c+y*l+x*w,t[10]=m*a+b*s+y*d+x*p,t[11]=m*i+b*h+y*v+x*g,m=n[12],b=n[13],y=n[14],x=n[15],t[12]=m*e+b*u+y*f+x*M,t[13]=m*o+b*c+y*l+x*w,t[14]=m*a+b*s+y*d+x*p,t[15]=m*i+b*h+y*v+x*g,t}function p(t,r,n){var e,o,a,i,u,c,s,h,f,l,d,v,M=n[0],w=n[1],p=n[2];return r===t?(t[12]=r[0]*M+r[4]*w+r[8]*p+r[12],t[13]=r[1]*M+r[5]*w+r[9]*p+r[13],t[14]=r[2]*M+r[6]*w+r[10]*p+r[14],t[15]=r[3]*M+r[7]*w+r[11]*p+r[15]):(e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],c=r[5],s=r[6],h=r[7],f=r[8],l=r[9],d=r[10],v=r[11],t[0]=e,t[1]=o,t[2]=a,t[3]=i,t[4]=u,t[5]=c,t[6]=s,t[7]=h,t[8]=f,t[9]=l,t[10]=d,t[11]=v,t[12]=e*M+u*w+f*p+r[12],t[13]=o*M+c*w+l*p+r[13],t[14]=a*M+s*w+d*p+r[14],t[15]=i*M+h*w+v*p+r[15]),t}function g(t,r,n){var e=n[0],o=n[1],a=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=r[7]*o,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function m(t,r,n,o){var a,i,u,c,s,h,f,l,d,v,M,w,p,g,m,b,y,x,E,L,S,A,P,R,T=o[0],O=o[1],_=o[2],I=Math.hypot(T,O,_);return I<e?null:(T*=I=1/I,O*=I,_*=I,a=Math.sin(n),u=1-(i=Math.cos(n)),c=r[0],s=r[1],h=r[2],f=r[3],l=r[4],d=r[5],v=r[6],M=r[7],w=r[8],p=r[9],g=r[10],m=r[11],b=T*T*u+i,y=O*T*u+_*a,x=_*T*u-O*a,E=T*O*u-_*a,L=O*O*u+i,S=_*O*u+T*a,A=T*_*u+O*a,P=O*_*u-T*a,R=_*_*u+i,t[0]=c*b+l*y+w*x,t[1]=s*b+d*y+p*x,t[2]=h*b+v*y+g*x,t[3]=f*b+M*y+m*x,t[4]=c*E+l*L+w*S,t[5]=s*E+d*L+p*S,t[6]=h*E+v*L+g*S,t[7]=f*E+M*L+m*S,t[8]=c*A+l*P+w*R,t[9]=s*A+d*P+p*R,t[10]=h*A+v*P+g*R,t[11]=f*A+M*P+m*R,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function b(t,r,n){var e=Math.sin(n),o=Math.cos(n),a=r[4],i=r[5],u=r[6],c=r[7],s=r[8],h=r[9],f=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*o+s*e,t[5]=i*o+h*e,t[6]=u*o+f*e,t[7]=c*o+l*e,t[8]=s*o-a*e,t[9]=h*o-i*e,t[10]=f*o-u*e,t[11]=l*o-c*e,t}function y(t,r,n){var e=Math.sin(n),o=Math.cos(n),a=r[0],i=r[1],u=r[2],c=r[3],s=r[8],h=r[9],f=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o-s*e,t[1]=i*o-h*e,t[2]=u*o-f*e,t[3]=c*o-l*e,t[8]=a*e+s*o,t[9]=i*e+h*o,t[10]=u*e+f*o,t[11]=c*e+l*o,t}function x(t,r,n){var e=Math.sin(n),o=Math.cos(n),a=r[0],i=r[1],u=r[2],c=r[3],s=r[4],h=r[5],f=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o+s*e,t[1]=i*o+h*e,t[2]=u*o+f*e,t[3]=c*o+l*e,t[4]=s*o-a*e,t[5]=h*o-i*e,t[6]=f*o-u*e,t[7]=l*o-c*e,t}function E(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function L(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,r,n){var o,a,i,u=n[0],c=n[1],s=n[2],h=Math.hypot(u,c,s);return h<e?null:(u*=h=1/h,c*=h,s*=h,o=Math.sin(r),i=1-(a=Math.cos(r)),t[0]=u*u*i+a,t[1]=c*u*i+s*o,t[2]=s*u*i-c*o,t[3]=0,t[4]=u*c*i-s*o,t[5]=c*c*i+a,t[6]=s*c*i+u*o,t[7]=0,t[8]=u*s*i+c*o,t[9]=c*s*i-u*o,t[10]=s*s*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function A(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=e+e,c=o+o,s=a+a,h=e*u,f=e*c,l=e*s,d=o*c,v=o*s,M=a*s,w=i*u,p=i*c,g=i*s;return t[0]=1-(d+M),t[1]=f+g,t[2]=l-p,t[3]=0,t[4]=f-g,t[5]=1-(h+M),t[6]=v+w,t[7]=0,t[8]=l+p,t[9]=v-w,t[10]=1-(h+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,r){var n=new o(3),e=-r[0],a=-r[1],i=-r[2],u=r[3],c=r[4],s=r[5],h=r[6],f=r[7],l=e*e+a*a+i*i+u*u;return l>0?(n[0]=2*(c*u+f*e+s*i-h*a)/l,n[1]=2*(s*u+f*a+h*e-c*i)/l,n[2]=2*(h*u+f*i+c*a-s*e)/l):(n[0]=2*(c*u+f*e+s*i-h*a),n[1]=2*(s*u+f*a+h*e-c*i),n[2]=2*(h*u+f*i+c*a-s*e)),T(t,r,n),t}function _(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function I(t,r){var n=r[0],e=r[1],o=r[2],a=r[4],i=r[5],u=r[6],c=r[8],s=r[9],h=r[10];return t[0]=Math.hypot(n,e,o),t[1]=Math.hypot(a,i,u),t[2]=Math.hypot(c,s,h),t}function F(t,r){var n=new o(3);I(n,r);var e=1/n[0],a=1/n[1],i=1/n[2],u=r[0]*e,c=r[1]*a,s=r[2]*i,h=r[4]*e,f=r[5]*a,l=r[6]*i,d=r[8]*e,v=r[9]*a,M=r[10]*i,w=u+f+M,p=0;return w>0?(p=2*Math.sqrt(w+1),t[3]=.25*p,t[0]=(l-v)/p,t[1]=(d-s)/p,t[2]=(c-h)/p):u>f&&u>M?(p=2*Math.sqrt(1+u-f-M),t[3]=(l-v)/p,t[0]=.25*p,t[1]=(c+h)/p,t[2]=(d+s)/p):f>M?(p=2*Math.sqrt(1+f-u-M),t[3]=(d-s)/p,t[0]=(c+h)/p,t[1]=.25*p,t[2]=(l+v)/p):(p=2*Math.sqrt(1+M-u-f),t[3]=(c-h)/p,t[0]=(d+s)/p,t[1]=(l+v)/p,t[2]=.25*p),t}function j(t,r,n,e){var o=r[0],a=r[1],i=r[2],u=r[3],c=o+o,s=a+a,h=i+i,f=o*c,l=o*s,d=o*h,v=a*s,M=a*h,w=i*h,p=u*c,g=u*s,m=u*h,b=e[0],y=e[1],x=e[2];return t[0]=(1-(v+w))*b,t[1]=(l+m)*b,t[2]=(d-g)*b,t[3]=0,t[4]=(l-m)*y,t[5]=(1-(f+w))*y,t[6]=(M+p)*y,t[7]=0,t[8]=(d+g)*x,t[9]=(M-p)*x,t[10]=(1-(f+v))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function D(t,r,n,e,o){var a=r[0],i=r[1],u=r[2],c=r[3],s=a+a,h=i+i,f=u+u,l=a*s,d=a*h,v=a*f,M=i*h,w=i*f,p=u*f,g=c*s,m=c*h,b=c*f,y=e[0],x=e[1],E=e[2],L=o[0],S=o[1],A=o[2],P=(1-(M+p))*y,R=(d+b)*y,T=(v-m)*y,O=(d-b)*x,_=(1-(l+p))*x,I=(w+g)*x,F=(v+m)*E,j=(w-g)*E,D=(1-(l+M))*E;return t[0]=P,t[1]=R,t[2]=T,t[3]=0,t[4]=O,t[5]=_,t[6]=I,t[7]=0,t[8]=F,t[9]=j,t[10]=D,t[11]=0,t[12]=n[0]+L-(P*L+O*S+F*A),t[13]=n[1]+S-(R*L+_*S+j*A),t[14]=n[2]+A-(T*L+I*S+D*A),t[15]=1,t}function q(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=n+n,u=e+e,c=o+o,s=n*i,h=e*i,f=e*u,l=o*i,d=o*u,v=o*c,M=a*i,w=a*u,p=a*c;return t[0]=1-f-v,t[1]=h+p,t[2]=l-w,t[3]=0,t[4]=h-p,t[5]=1-s-v,t[6]=d+M,t[7]=0,t[8]=l+w,t[9]=d-M,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,r,n,e,o,a,i){var u=1/(n-r),c=1/(o-e),s=1/(a-i);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*c,t[6]=0,t[7]=0,t[8]=(n+r)*u,t[9]=(o+e)*c,t[10]=(i+a)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*s,t[15]=0,t}function z(t,r,n,e,o){var a,i=1/Math.tan(r/2);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(e-o),t[10]=(o+e)*a,t[14]=2*o*e*a):(t[10]=-1,t[14]=-2*e),t}Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var B=z;function N(t,r,n,e,o){var a,i=1/Math.tan(r/2);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(e-o),t[10]=o*a,t[14]=o*e*a):(t[10]=-1,t[14]=-e),t}function G(t,r,n,e){var o=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),u=Math.tan(r.rightDegrees*Math.PI/180),c=2/(i+u),s=2/(o+a);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(i-u)*c*.5,t[9]=(o-a)*s*.5,t[10]=e/(n-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*n/(n-e),t[15]=0,t}function C(t,r,n,e,o,a,i){var u=1/(r-n),c=1/(e-o),s=1/(a-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(r+n)*u,t[13]=(o+e)*c,t[14]=(i+a)*s,t[15]=1,t}var k=C;function H(t,r,n,e,o,a,i){var u=1/(r-n),c=1/(e-o),s=1/(a-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s,t[11]=0,t[12]=(r+n)*u,t[13]=(o+e)*c,t[14]=a*s,t[15]=1,t}function V(t,r,n,o){var a,i,u,c,s,h,l,d,v,M,w=r[0],p=r[1],g=r[2],m=o[0],b=o[1],y=o[2],x=n[0],E=n[1],L=n[2];return Math.abs(w-x)<e&&Math.abs(p-E)<e&&Math.abs(g-L)<e?f(t):(l=w-x,d=p-E,v=g-L,a=b*(v*=M=1/Math.hypot(l,d,v))-y*(d*=M),i=y*(l*=M)-m*v,u=m*d-b*l,(M=Math.hypot(a,i,u))?(a*=M=1/M,i*=M,u*=M):(a=0,i=0,u=0),c=d*u-v*i,s=v*a-l*u,h=l*i-d*a,(M=Math.hypot(c,s,h))?(c*=M=1/M,s*=M,h*=M):(c=0,s=0,h=0),t[0]=a,t[1]=c,t[2]=l,t[3]=0,t[4]=i,t[5]=s,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=v,t[11]=0,t[12]=-(a*w+i*p+u*g),t[13]=-(c*w+s*p+h*g),t[14]=-(l*w+d*p+v*g),t[15]=1,t)}function Y(t,r,n,e){var o=r[0],a=r[1],i=r[2],u=e[0],c=e[1],s=e[2],h=o-n[0],f=a-n[1],l=i-n[2],d=h*h+f*f+l*l;d>0&&(h*=d=1/Math.sqrt(d),f*=d,l*=d);var v=c*l-s*f,M=s*h-u*l,w=u*f-c*h;return(d=v*v+M*M+w*w)>0&&(v*=d=1/Math.sqrt(d),M*=d,w*=d),t[0]=v,t[1]=M,t[2]=w,t[3]=0,t[4]=f*w-l*M,t[5]=l*v-h*w,t[6]=h*M-f*v,t[7]=0,t[8]=h,t[9]=f,t[10]=l,t[11]=0,t[12]=o,t[13]=a,t[14]=i,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function X(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Z(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function Q(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function K(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function J(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t[6]=r[6]+n[6]*e,t[7]=r[7]+n[7]*e,t[8]=r[8]+n[8]*e,t[9]=r[9]+n[9]*e,t[10]=r[10]+n[10]*e,t[11]=r[11]+n[11]*e,t[12]=r[12]+n[12]*e,t[13]=r[13]+n[13]*e,t[14]=r[14]+n[14]*e,t[15]=r[15]+n[15]*e,t}function $(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function tt(t,r){var n=t[0],o=t[1],a=t[2],i=t[3],u=t[4],c=t[5],s=t[6],h=t[7],f=t[8],l=t[9],d=t[10],v=t[11],M=t[12],w=t[13],p=t[14],g=t[15],m=r[0],b=r[1],y=r[2],x=r[3],E=r[4],L=r[5],S=r[6],A=r[7],P=r[8],R=r[9],T=r[10],O=r[11],_=r[12],I=r[13],F=r[14],j=r[15];return Math.abs(n-m)<=e*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(o-b)<=e*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-y)<=e*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-x)<=e*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-E)<=e*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-L)<=e*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(s-S)<=e*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(h-A)<=e*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(f-P)<=e*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-R)<=e*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(d-T)<=e*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(v-O)<=e*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(M-_)<=e*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(w-I)<=e*Math.max(1,Math.abs(w),Math.abs(I))&&Math.abs(p-F)<=e*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(g-j)<=e*Math.max(1,Math.abs(g),Math.abs(j))}var rt=w,nt=Q;function et(){var t=new o(3);return o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ot(t,r,n){var e=new o(3);return e[0]=t,e[1]=r,e[2]=n,e}function at(t,r,n){var e=r[0],o=r[1],a=r[2],i=n[0],u=n[1],c=n[2];return t[0]=o*c-a*u,t[1]=a*i-e*c,t[2]=e*u-o*i,t}function it(){var t=new o(4);return o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ut(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function ct(t,r,n){n*=.5;var e=Math.sin(n);return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=Math.cos(n),t}function st(t,r){var n=2*Math.acos(r[3]),o=Math.sin(n/2);return o>e?(t[0]=r[0]/o,t[1]=r[1]/o,t[2]=r[2]/o):(t[0]=1,t[1]=0,t[2]=0),n}function ht(t,r){var n=Nt(t,r);return Math.acos(2*n*n-1)}function ft(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=n[0],c=n[1],s=n[2],h=n[3];return t[0]=e*h+i*u+o*s-a*c,t[1]=o*h+i*c+a*u-e*s,t[2]=a*h+i*s+e*c-o*u,t[3]=i*h-e*u-o*c-a*s,t}function lt(t,r,n){n*=.5;var e=r[0],o=r[1],a=r[2],i=r[3],u=Math.sin(n),c=Math.cos(n);return t[0]=e*c+i*u,t[1]=o*c+a*u,t[2]=a*c-o*u,t[3]=i*c-e*u,t}function dt(t,r,n){n*=.5;var e=r[0],o=r[1],a=r[2],i=r[3],u=Math.sin(n),c=Math.cos(n);return t[0]=e*c-a*u,t[1]=o*c+i*u,t[2]=a*c+e*u,t[3]=i*c-o*u,t}function vt(t,r,n){n*=.5;var e=r[0],o=r[1],a=r[2],i=r[3],u=Math.sin(n),c=Math.cos(n);return t[0]=e*c+o*u,t[1]=o*c-e*u,t[2]=a*c+i*u,t[3]=i*c-a*u,t}function Mt(t,r){var n=r[0],e=r[1],o=r[2];return t[0]=n,t[1]=e,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-e*e-o*o)),t}function wt(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=Math.sqrt(n*n+e*e+o*o),u=Math.exp(a),c=i>0?u*Math.sin(i)/i:0;return t[0]=n*c,t[1]=e*c,t[2]=o*c,t[3]=u*Math.cos(i),t}function pt(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=Math.sqrt(n*n+e*e+o*o),u=i>0?Math.atan2(i,a)/i:0;return t[0]=n*u,t[1]=e*u,t[2]=o*u,t[3]=.5*Math.log(n*n+e*e+o*o+a*a),t}function gt(t,r,n){return pt(t,r),Bt(t,t,n),wt(t,t),t}function mt(t,r,n,o){var a,i,u,c,s,h=r[0],f=r[1],l=r[2],d=r[3],v=n[0],M=n[1],w=n[2],p=n[3];return(i=h*v+f*M+l*w+d*p)<0&&(i=-i,v=-v,M=-M,w=-w,p=-p),1-i>e?(a=Math.acos(i),u=Math.sin(a),c=Math.sin((1-o)*a)/u,s=Math.sin(o*a)/u):(c=1-o,s=o),t[0]=c*h+s*v,t[1]=c*f+s*M,t[2]=c*l+s*w,t[3]=c*d+s*p,t}function bt(t){var r=a(),n=a(),e=a(),o=Math.sqrt(1-r),i=Math.sqrt(r);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*e),t[3]=i*Math.cos(2*Math.PI*e),t}function yt(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=n*n+e*e+o*o+a*a,u=i?1/i:0;return t[0]=-n*u,t[1]=-e*u,t[2]=-o*u,t[3]=a*u,t}function xt(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function Et(t,r){var n,e=r[0]+r[4]+r[8];if(e>0)n=Math.sqrt(e+1),t[3]=.5*n,n=.5/n,t[0]=(r[5]-r[7])*n,t[1]=(r[6]-r[2])*n,t[2]=(r[1]-r[3])*n;else{var o=0;r[4]>r[0]&&(o=1),r[8]>r[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;n=Math.sqrt(r[3*o+o]-r[3*a+a]-r[3*i+i]+1),t[o]=.5*n,n=.5/n,t[3]=(r[3*a+i]-r[3*i+a])*n,t[a]=(r[3*a+o]+r[3*o+a])*n,t[i]=(r[3*i+o]+r[3*o+i])*n}return t}function Lt(t,r,n,e){var o=.5*Math.PI/180;r*=o,n*=o,e*=o;var a=Math.sin(r),i=Math.cos(r),u=Math.sin(n),c=Math.cos(n),s=Math.sin(e),h=Math.cos(e);return t[0]=a*c*h-i*u*s,t[1]=i*u*h+a*c*s,t[2]=i*c*s-a*u*h,t[3]=i*c*h+a*u*s,t}function St(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}et(),function(){var t;t=new o(4),o!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var At,Pt,Rt,Tt,Ot,_t,It,Ft=function(t){var r=new o(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},jt=function(t,r,n,e){var a=new o(4);return a[0]=t,a[1]=r,a[2]=n,a[3]=e,a},Dt=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},qt=function(t,r,n,e,o){return t[0]=r,t[1]=n,t[2]=e,t[3]=o,t},Ut=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t},zt=ft,Bt=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t},Nt=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},Gt=function(t,r,n,e){var o=r[0],a=r[1],i=r[2],u=r[3];return t[0]=o+e*(n[0]-o),t[1]=a+e*(n[1]-a),t[2]=i+e*(n[2]-i),t[3]=u+e*(n[3]-u),t},Ct=function(t){var r=t[0],n=t[1],e=t[2],o=t[3];return Math.hypot(r,n,e,o)},kt=Ct,Ht=function(t){var r=t[0],n=t[1],e=t[2],o=t[3];return r*r+n*n+e*e+o*o},Vt=Ht,Yt=function(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=n*n+e*e+o*o+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=n*i,t[1]=e*i,t[2]=o*i,t[3]=a*i,t},Wt=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},Xt=function(t,r){var n=t[0],o=t[1],a=t[2],i=t[3],u=r[0],c=r[1],s=r[2],h=r[3];return Math.abs(n-u)<=e*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=e*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-s)<=e*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-h)<=e*Math.max(1,Math.abs(i),Math.abs(h))},Zt=(At=et(),Pt=ot(1,0,0),Rt=ot(0,1,0),function(t,r,n){var e=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}(r,n);return e<-.999999?(at(At,Pt,r),function(t){var r=t[0],n=t[1],e=t[2];return Math.hypot(r,n,e)}(At)<1e-6&&at(At,Rt,r),function(t,r){var n=r[0],e=r[1],o=r[2],a=n*n+e*e+o*o;a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a}(At,At),ct(t,At,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(at(At,r,n),t[0]=At[0],t[1]=At[1],t[2]=At[2],t[3]=1+e,Yt(t,t))}),Qt=(Tt=it(),Ot=it(),function(t,r,n,e,o,a){return mt(Tt,r,o,a),mt(Ot,n,e,a),mt(t,Tt,Ot,2*a*(1-a)),t}),Kt=(_t=new o(9),o!=Float32Array&&(_t[1]=0,_t[2]=0,_t[3]=0,_t[5]=0,_t[6]=0,_t[7]=0),_t[0]=1,_t[4]=1,_t[8]=1,It=_t,function(t,r,n,e){return It[0]=n[0],It[3]=n[1],It[6]=n[2],It[1]=e[0],It[4]=e[1],It[7]=e[2],It[2]=-r[0],It[5]=-r[1],It[8]=-r[2],Yt(t,Et(t,It))});function Jt(t,r,n){var e=t.createShader(r);if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS)){var o=r===t.VERTEX_SHADER?"VERTEX_SHADER":"FRAGMENT_SHADER";return console.error("An error occurred compiling the ".concat(o,": ").concat(t.getShaderInfoLog(e))),console.error("Shader source that failed to compile:\n".concat(n)),t.deleteShader(e),null}return e}function $t(t,r,n){var e=Jt(t,t.VERTEX_SHADER,r),o=Jt(t,t.FRAGMENT_SHADER,n),a=t.createProgram();return t.attachShader(a,e),t.attachShader(a,o),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?a:(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(a)),null)}var tr="\n    attribute vec3 aVertexPosition;\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    void main(void) {\n        gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);\n    }\n",rr="\n    precision mediump float;\n    uniform vec4 uColor; // Add this uniform for dynamic color control\n\n    void main(void) {\n        gl_FragColor = uColor; // Use the uniform color\n    }\n";function nr(t){if(!t)return console.error("WebGL context is not available."),null;var r=t.createBuffer();if(!r)return console.error("Failed to create a position buffer."),null;t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),t.STATIC_DRAW);var n=t.createBuffer();if(!n)return console.error("Failed to create an index buffer."),null;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),t.STATIC_DRAW);var e=[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7,8,9,9,10,10,11,11,8,12,13,13,14,14,15,15,12,16,17,17,18,18,19,19,16,20,21,21,22,22,23,23,20],o=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW),{position:r,indices:n,edgeIndices:o,edgeCount:e.length/2}}function er(t,r,n,e){if(t){t.useProgram(r.program);var o=45*Math.PI/180,a=t.canvas.clientWidth/t.canvas.clientHeight,u=i();B(u,o,a,.1,100);var c=i();p(c,c,[0,0,-6]),w(c,c,e),t.clearColor(.5,.5,.5,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(r.attribLocations.vertexPosition,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r.attribLocations.vertexPosition),t.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,u),t.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,c),t.uniform4f(r.uniformLocations.uColor,0,0,0,1),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indices),t.drawElements(t.TRIANGLES,n.indexCount,t.UNSIGNED_SHORT,0),t.drawElements(t.LINES,n.edgeCount,t.UNSIGNED_SHORT,0)}else console.error("WebGL context is not available.")}var or=function(t){return t*Math.PI/180},ar={isDragging:!1,previousMousePosition:{x:0,y:0},axis:[0,1,0],angle:0,handleMouseDown:function(t){this.isDragging=!0,this.previousMousePosition={x:t.clientX/window.innerWidth*2-1,y:-t.clientY/window.innerHeight*2+1},console.log("MouseDown Event Triggered",this.previousMousePosition)},handleMouseMove:function(t){if(this.isDragging){var r,n,e={x:t.clientX/window.innerWidth*2-1,y:-t.clientY/window.innerHeight*2+1},o=this.mapToSphere(this.previousMousePosition.x,this.previousMousePosition.y),a=this.mapToSphere(e.x,e.y);this.axis=(n=a,{x:(r=o).y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x}),this.angle=Math.acos(Math.min(1,function(t,r){return t.x*r.x+t.y*r.y+t.z*r.z}(o,a))),console.log("MouseMove Event Triggered",{axis:this.axis,angle:this.angle}),"function"==typeof window.updateScene&&window.updateScene(this.axis,this.angle),this.previousMousePosition=e}},handleMouseUp:function(t){this.isDragging&&(this.isDragging=!1,console.log("MouseUp Event Triggered",{isDragging:this.isDragging}))},mapToSphere:function(t,r){var n={x:t,y:r,z:0},e=t*t+r*r;return e<=1?n.z=Math.sqrt(1-e):n=function(t){var r=function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)}(t);return{x:t.x/r,y:t.y/r,z:t.z/r}}(n),n},setupInteractionHandlers:function(t){t.addEventListener("mousedown",this.handleMouseDown.bind(this),!1),t.addEventListener("mousemove",this.handleMouseMove.bind(this),!1),t.addEventListener("mouseup",this.handleMouseUp.bind(this),!1),t.addEventListener("mouseleave",this.handleMouseUp.bind(this),!1),console.log("Event handlers attached to canvas.")}};function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ur(){ur=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o=Object.defineProperty||function(t,r,n){t[r]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,r,n){return Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{s({},"")}catch(t){s=function(t,r,n){return t[r]=n}}function h(t,r,n,e){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype),u=new O(e||[]);return o(i,"_invoke",{value:A(t,n,u)}),i}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var l="suspendedStart",d="suspendedYield",v="executing",M="completed",w={};function p(){}function g(){}function m(){}var b={};s(b,i,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(_([])));x&&x!==n&&e.call(x,i)&&(b=x);var E=m.prototype=p.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(r){s(t,r,(function(t){return this._invoke(r,t)}))}))}function S(t,r){function n(o,a,i,u){var c=f(t[o],t,a);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==ir(h)&&e.call(h,"__await")?r.resolve(h.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):r.resolve(h).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,e){function o(){return new r((function(r,o){n(t,e,r,o)}))}return a=a?a.then(o,o):o()}})}function A(r,n,e){var o=l;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===M){if("throw"===a)throw i;return{value:t,done:!0}}for(e.method=a,e.arg=i;;){var u=e.delegate;if(u){var c=P(u,e);if(c){if(c===w)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(o===l)throw o=M,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=v;var s=f(r,n,e);if("normal"===s.type){if(o=e.done?M:d,s.arg===w)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=M,e.method="throw",e.arg=s.arg)}}}function P(r,n){var e=n.method,o=r.iterator[e];if(o===t)return n.delegate=null,"throw"===e&&r.iterator.return&&(n.method="return",n.arg=t,P(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),w;var a=f(o,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,w;var i=a.arg;return i?i.done?(n[r.resultName]=i.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,w):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function R(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function T(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function _(r){if(r||""===r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ir(r)+" is not iterable")}return g.prototype=m,o(E,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=s(m,c,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===g||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},r.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,u,(function(){return this})),r.AsyncIterator=S,r.async=function(t,n,e,o,a){void 0===a&&(a=Promise);var i=new S(h(t,n,e,o),a);return r.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},r.values=_,O.prototype={constructor:O,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function o(e,o){return u.type="throw",u.arg=r,n.next=e,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),s=e.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),w},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),w}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var o=e.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={iterator:_(r),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=t),w}},r}function cr(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function sr(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?cr(Object(n),!0).forEach((function(r){var e,o,a,i;e=t,o=r,a=n[r],i=function(t,r){if("object"!=ir(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=ir(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o),(o="symbol"==ir(i)?i:String(i))in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function hr(t,r,n,e,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?r(c):Promise.resolve(c).then(e,o)}function fr(){return lr.apply(this,arguments)}function lr(){var t;return t=ur().mark((function t(){var r,n,e;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.getElementById("webgl-canvas"),n=r.getContext("webgl")){t.next=5;break}return console.error("Unable to initialize WebGL."),t.abrupt("return");case 5:return window.gl=n,window.loadShader=Jt,window.initShaderProgram=$t,window.initBuffers=nr,window.drawScene=er,window.toRadians=or,window.webGLInteraction=ar,window.vsSource=tr,window.fsSource=rr,window.rotationAngles={x:0,y:0,z:0},window.lastRotationAngles={x:0,y:0,z:0},t.next=18,window.initShaderProgram(n,window.vsSource,window.fsSource);case 18:if(e=t.sent){t.next=24;break}return console.error("Initializing shader program failed."),t.abrupt("return");case 24:console.log("Shader program initialized successfully.");case 25:return window.shaderProgram=e,console.log("Shader program:",window.shaderProgram),window.programInfo={program:e,attribLocations:{vertexPosition:n.getAttribLocation(e,"aVertexPosition")},uniformLocations:{projectionMatrix:n.getUniformLocation(e,"uProjectionMatrix"),modelViewMatrix:n.getUniformLocation(e,"uModelViewMatrix"),uColor:n.getUniformLocation(e,"uColor")}},console.log("Attribute and Uniform Locations:",window.programInfo.attribLocations,window.programInfo.uniformLocations),t.next=31,window.initBuffers(n);case 31:if(window.buffers=t.sent,window.buffers){t.next=37;break}return console.error("Initializing buffers failed."),t.abrupt("return");case 37:console.log("Buffers initialized successfully.");case 38:ar.setupInteractionHandlers(r),window.projectionMatrix=i(),B(window.projectionMatrix,45*Math.PI/180,n.canvas.clientWidth/n.canvas.clientHeight,.1,100),window.renderLoop=function(){window.rotationAngles.x===window.lastRotationAngles.x&&window.rotationAngles.y===window.lastRotationAngles.y&&window.rotationAngles.z===window.lastRotationAngles.z||(window.updateScene(),window.lastRotationAngles=sr({},window.rotationAngles)),requestAnimationFrame(window.renderLoop)},window.drawScene(window.gl,window.programInfo,window.buffers,window.rotationAngles),window.renderLoop();case 44:case"end":return t.stop()}}),t)})),lr=function(){var r=this,n=arguments;return new Promise((function(e,o){var a=t.apply(r,n);function i(t){hr(a,e,o,i,u,"next",t)}function u(t){hr(a,e,o,i,u,"throw",t)}i(void 0)}))},lr.apply(this,arguments)}window.updateScene=function(){if(window.webGLInteraction&&void 0!==window.webGLInteraction.axis&&void 0!==window.webGLInteraction.angle){var t=it();ct(t,window.webGLInteraction.axis,window.webGLInteraction.angle);var r=i();q(r,t),window.drawScene?window.drawScene(window.gl,window.programInfo,window.buffers,r):console.error("drawScene function is not defined.")}else console.warn("Waiting for WebGL interaction axis and angle to be defined.")},document.addEventListener("DOMContentLoaded",(function(){window.main=fr,window.main()})),window.mat4=r,window.quat=n})();
//# sourceMappingURL=bundle.js.map